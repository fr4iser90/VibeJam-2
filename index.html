<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fantasy OS - Hobbit-H√∂hle Desktop</title>
    
    <!-- Fantasy Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600&family=MedievalSharp&family=Crimson+Text:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">
    
    <!-- CSS Styles -->
    <link rel="stylesheet" href="css/fantasy-variables.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/rooms.css">
    <link rel="stylesheet" href="css/objects.css">
    <link rel="stylesheet" href="css/animations.css">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="assets/images/favicon.ico">
</head>
<body>
    <!-- Fantasy Desktop Container -->
    <div class="fantasy-desktop" id="fantasyDesktop">
        
        <!-- Room Navigation -->
        <nav class="room-navigation">
            <div class="room-tabs">
                <button class="room-tab active" data-room="living-room">
                    <span class="room-icon">üè†</span>
                    <span class="room-name">Living Room</span>
                </button>
                <button class="room-tab" data-room="kitchen">
                    <span class="room-icon">üç≥</span>
                    <span class="room-name">Kitchen</span>
                </button>
                <button class="room-tab" data-room="bedroom">
                    <span class="room-icon">üõèÔ∏è</span>
                    <span class="room-name">Bedroom</span>
                </button>
                <button class="room-tab" data-room="workshop">
                    <span class="room-icon">üî®</span>
                    <span class="room-name">Workshop</span>
                </button>
                <button class="room-tab" data-room="library">
                    <span class="room-icon">üìö</span>
                    <span class="room-name">Library</span>
                </button>
                <button class="room-tab" data-room="garden">
                    <span class="room-icon">üåø</span>
                    <span class="room-name">Garden</span>
                </button>
            </div>
        </nav>

        <!-- Room Content -->
        <main class="room-content">
            
            <!-- Living Room (Default) -->
            <div class="room active" id="living-room">
                <!-- Left Side Panel -->
                <div class="room-side-panel left">
                    <h3 class="fantasy-header">Spells</h3>
                    <div class="spell-input-container">
                        <input type="text" id="spellInput" placeholder="Enter spell..." class="spell-input">
                        <button id="castSpell" class="cast-spell-btn">Cast</button>
                    </div>
                    <div class="spell-list">
                        <h4>Known Spells:</h4>
                        <ul>
                            <li>"ignite fireplace"</li>
                            <li>"summon light"</li>
                            <li>"open portal to kitchen"</li>
                            <li>"store treasure in chest"</li>
                        </ul>
                    </div>
                </div>
                
                <!-- Center Background -->
                <div class="room-background" style="background-image: url('assets/images/rooms/living-room.png');">
                    <!-- Interactive Objects -->
                    <div class="interactive-objects">
                    
                    <!-- Fireplace -->
                    <div class="object fireplace" data-object="fireplace">
                        <img src="assets/images/objects/fireplace.png" alt="Fireplace" class="object-icon">
                        <div class="object-tooltip">Fireplace - Brightness/Energy</div>
                        <div class="object-effects">
                            <div class="fire-effect"></div>
                        </div>
                    </div>
                    
                    <!-- Lamp -->
                    <div class="object lamp" data-object="lamp">
                        <img src="assets/images/objects/lamp.png" alt="Lamp" class="object-icon">
                        <div class="object-tooltip">Lamp - Lighting</div>
                        <div class="object-effects">
                            <div class="light-effect"></div>
                        </div>
                    </div>
                    
                    <!-- Chest -->
                    <div class="object chest" data-object="chest">
                        <img src="assets/images/objects/chest.png" alt="Chest" class="object-icon">
                        <div class="object-tooltip">Chest - Store files</div>
                        <div class="object-effects">
                            <div class="treasure-effect"></div>
                        </div>
                    </div>
                    
                    <!-- Crystal Ball -->
                    <div class="object crystal-ball" data-object="crystal-ball">
                        <img src="assets/images/objects/crystal-ball.png" alt="Crystal Ball" class="object-icon">
                        <div class="object-tooltip">Crystal Ball - Monitor/Display</div>
                        <div class="object-effects">
                            <div class="magic-effect"></div>
                        </div>
                    </div>
                    
                    <!-- Spell Book -->
                    <div class="object spell-book" data-object="spell-book">
                        <img src="assets/images/objects/spell-book.png" alt="Spell Book" class="object-icon">
                        <div class="object-tooltip">Spell Book - Help/Documentation</div>
                        <div class="object-effects">
                            <div class="book-effect"></div>
                        </div>
                    </div>
                    
                    <!-- Cauldron -->
                    <div class="object cauldron" data-object="cauldron">
                        <img src="assets/images/objects/cauldron.png" alt="Cauldron" class="object-icon">
                        <div class="object-tooltip">Cauldron - Downloads/Processing</div>
                        <div class="object-effects">
                            <div class="brew-effect"></div>
                        </div>
                    </div>
                    </div>
                    
                    <!-- Magical Particles -->
                    <div class="particle-system">
                        <div class="particle"></div>
                        <div class="particle"></div>
                        <div class="particle"></div>
                        <div class="particle"></div>
                        <div class="particle"></div>
                    </div>
                </div>
                
                <!-- Right Side Panel -->
                <div class="room-side-panel right">
                    <h3 class="fantasy-header">Gestures</h3>
                    <div class="gesture-instructions">
                        <h4>Gesture Spells:</h4>
                        <ul>
                            <li>Circle = Open portal</li>
                            <li>Zigzag = Lightning</li>
                            <li>Spiral = Fire</li>
                            <li>Heart = Favorites</li>
                        </ul>
                        <p><strong>Draw gestures anywhere on the screen!</strong></p>
                    </div>
                </div>
            </div>

            <!-- Other Rooms (Hidden by default) -->
            <div class="room" id="kitchen">
                <!-- Left Side Panel -->
                <div class="room-side-panel left">
                    <h3 class="fantasy-header">Spells</h3>
                    <div class="spell-input-container">
                        <input type="text" id="spellInputKitchen" placeholder="Zauberspruch eingeben..." class="spell-input">
                        <button id="castSpellKitchen" class="cast-spell-btn">Zaubern</button>
                    </div>
                    <div class="spell-list">
                        <h4>Kitchen Spells:</h4>
                        <ul>
                            <li>"brew potion"</li>
                            <li>"summon ingredients"</li>
                            <li>"clean cauldron"</li>
                            <li>"heat water"</li>
                        </ul>
                    </div>
                </div>
                
                <!-- Center Background -->
                <div class="room-background" style="background-image: url('assets/images/rooms/kitchen.png');">
                    <div class="room-content-text">
                        <h2>Kitchen - File Manager</h2>
                        <p>Organized pantry for your files</p>
                    </div>
                </div>
                
                <!-- Right Side Panel -->
                <div class="room-side-panel right">
                    <h3 class="fantasy-header">Gestures</h3>
                    <div class="gesture-instructions">
                        <h4>Kitchen Gestures:</h4>
                        <ul>
                            <li>Circle = Stir cauldron</li>
                            <li>Zigzag = Heat</li>
                            <li>Spiral = Brew</li>
                            <li>Heart = Favorites</li>
                        </ul>
                        <p><strong>Draw gestures anywhere on the screen!</strong></p>
                    </div>
                </div>
            </div>

            <div class="room" id="bedroom">
                <!-- Left Side Panel -->
                <div class="room-side-panel left">
                    <h3 class="fantasy-header">Spells</h3>
                    <div class="spell-input-container">
                        <input type="text" id="spellInputBedroom" placeholder="Zauberspruch eingeben..." class="spell-input">
                        <button id="castSpellBedroom" class="cast-spell-btn">Zaubern</button>
                    </div>
                    <div class="spell-list">
                        <h4>Bedroom Spells:</h4>
                        <ul>
                            <li>"rest mode"</li>
                            <li>"sleep timer"</li>
                            <li>"dream portal"</li>
                            <li>"wake up"</li>
                        </ul>
                    </div>
                </div>
                
                <!-- Center Background -->
                <div class="room-background" style="background-image: url('assets/images/rooms/bedroom.png');">
                    <div class="room-content-text">
                        <h2>Bedroom - Rest Mode</h2>
                        <p>Quiet retreat for breaks</p>
                    </div>
                </div>
                
                <!-- Right Side Panel -->
                <div class="room-side-panel right">
                    <h3 class="fantasy-header">Gestures</h3>
                    <div class="gesture-instructions">
                        <h4>Bedroom Gestures:</h4>
                        <ul>
                            <li>Circle = Rest</li>
                            <li>Zigzag = Alarm</li>
                            <li>Spiral = Dreams</li>
                            <li>Heart = Favorites</li>
                        </ul>
                        <p><strong>Draw gestures anywhere on the screen!</strong></p>
                    </div>
                </div>
            </div>

            <div class="room" id="workshop">
                <!-- Left Side Panel -->
                <div class="room-side-panel left">
                    <h3 class="fantasy-header">Spells</h3>
                    <div class="spell-input-container">
                        <input type="text" id="spellInputWorkshop" placeholder="Zauberspruch eingeben..." class="spell-input">
                        <button id="castSpellWorkshop" class="cast-spell-btn">Zaubern</button>
                    </div>
                    <div class="spell-list">
                        <h4>Workshop Spells:</h4>
                        <ul>
                            <li>"craft tool"</li>
                            <li>"repair item"</li>
                            <li>"upgrade system"</li>
                            <li>"forge weapon"</li>
                        </ul>
                    </div>
                </div>
                
                <!-- Center Background -->
                <div class="room-background" style="background-image: url('assets/images/rooms/workshop.png');">
                    <div class="room-content-text">
                        <h2>Workshop - Tools/Apps</h2>
                        <p>Workplace with tools and applications</p>
                    </div>
                </div>
                
                <!-- Right Side Panel -->
                <div class="room-side-panel right">
                    <h3 class="fantasy-header">Gestures</h3>
                    <div class="gesture-instructions">
                        <h4>Workshop Gestures:</h4>
                        <ul>
                            <li>Circle = Tool</li>
                            <li>Zigzag = Repair</li>
                            <li>Spiral = Forge</li>
                            <li>Heart = Favorites</li>
                        </ul>
                        <p><strong>Draw gestures anywhere on the screen!</strong></p>
                    </div>
                </div>
            </div>

            <div class="room" id="library">
                <!-- Left Side Panel -->
                <div class="room-side-panel left">
                    <h3 class="fantasy-header">Spells</h3>
                    <div class="spell-input-container">
                        <input type="text" id="spellInputLibrary" placeholder="Zauberspruch eingeben..." class="spell-input">
                        <button id="castSpellLibrary" class="cast-spell-btn">Zaubern</button>
                    </div>
                    <div class="spell-list">
                        <h4>Library Spells:</h4>
                        <ul>
                            <li>"open book"</li>
                            <li>"search knowledge"</li>
                            <li>"save document"</li>
                            <li>"archive scroll"</li>
                        </ul>
                    </div>
                </div>
                
                <!-- Center Background -->
                <div class="room-background" style="background-image: url('assets/images/rooms/library.png');">
                    <div class="room-content-text">
                        <h2>Library - Documents</h2>
                        <p>Books and scrolls for your documents</p>
                    </div>
                </div>
                
                <!-- Right Side Panel -->
                <div class="room-side-panel right">
                    <h3 class="fantasy-header">Gestures</h3>
                    <div class="gesture-instructions">
                        <h4>Library Gestures:</h4>
                        <ul>
                            <li>Circle = Open book</li>
                            <li>Zigzag = Search</li>
                            <li>Spiral = Archive</li>
                            <li>Heart = Favorites</li>
                        </ul>
                        <p><strong>Draw gestures anywhere on the screen!</strong></p>
                    </div>
                </div>
            </div>

            <div class="room" id="garden">
                <!-- Left Side Panel -->
                <div class="room-side-panel left">
                    <h3 class="fantasy-header">Spells</h3>
                    <div class="spell-input-container">
                        <input type="text" id="spellInputGarden" placeholder="Zauberspruch eingeben..." class="spell-input">
                        <button id="castSpellGarden" class="cast-spell-btn">Zaubern</button>
                    </div>
                    <div class="spell-list">
                        <h4>Garden Spells:</h4>
                        <ul>
                            <li>"connect internet"</li>
                            <li>"open portal"</li>
                            <li>"grow network"</li>
                            <li>"harvest data"</li>
                        </ul>
                    </div>
                </div>
                
                <!-- Center Background -->
                <div class="room-background" style="background-image: url('assets/images/rooms/library.png');">
                    <div class="room-content-text">
                        <h2>Garden - External Connections</h2>
                        <p>Connection to the outside world and internet</p>
                    </div>
                </div>
                
                <!-- Right Side Panel -->
                <div class="room-side-panel right">
                    <h3 class="fantasy-header">Gestures</h3>
                    <div class="gesture-instructions">
                        <h4>Garden Gestures:</h4>
                        <ul>
                            <li>Circle = Portal</li>
                            <li>Zigzag = Network</li>
                            <li>Spiral = Growth</li>
                            <li>Heart = Favorites</li>
                        </ul>
                        <p><strong>Draw gestures anywhere on the screen!</strong></p>
                    </div>
                </div>
            </div>
        </main>

        <!-- Global Gesture Canvas - Full Screen -->
        <div class="gesture-canvas-container">
            <canvas id="gestureCanvas" class="gesture-canvas"></canvas>
        </div>

        <!-- Spell System -->
        <div class="spell-system">
            <div class="spell-input-container">
                <input type="text" id="spellInput" placeholder="Zauberspruch eingeben..." class="spell-input">
                <button id="castSpell" class="cast-spell-btn">Zaubern</button>
            </div>
            
            <div class="gesture-instructions">
                <p><strong>üé® Gesture Recognition Activated!</strong></p>
                <p>Draw gestures anywhere on the screen:</p>
                <ul>
                    <li>Circle = Open portal</li>
                    <li>Zigzag = Lightning</li>
                    <li>Spiral = Fire</li>
                    <li>Heart = Favorites</li>
                </ul>
            </div>
        </div>

        <!-- Status Bar -->
        <footer class="status-bar">
            <div class="status-left">
                <span class="current-room">Living Room</span>
                <span class="magic-level">Magic: 100%</span>
            </div>
            <div class="status-center">
                <div class="spell-history">
                    <span class="last-spell">Last Spell: -</span>
                </div>
            </div>
            <div class="status-right">
                <button class="help-btn" id="helpBtn">Help</button>
                <button class="settings-btn" id="settingsBtn">Settings</button>
            </div>
        </footer>
    </div>

    <!-- Help Modal -->
    <div class="modal" id="helpModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Spellbook - Help</h2>
                <button class="close-btn" id="closeHelp">&times;</button>
            </div>
            <div class="modal-body">
                <h3>Spells:</h3>
                <ul>
                    <li><code>"ignite fireplace"</code> - Ignite fireplace</li>
                    <li><code>"summon light"</code> - Turn on lamp</li>
                    <li><code>"open portal to kitchen"</code> - Open kitchen</li>
                    <li><code>"store treasure in chest"</code> - Save file</li>
                    <li><code>"cast protection spell"</code> - Security mode</li>
                    <li><code>"brew potion"</code> - Start download</li>
                    <li><code>"read ancient tome"</code> - Open document</li>
                </ul>
                
                <h3>Gestures:</h3>
                <ul>
                    <li>Draw circle - Open portal</li>
                    <li>Zigzag - Lightning (Light)</li>
                    <li>Spiral - Fire (Heat)</li>
                    <li>Heart - Add to favorites</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div class="modal" id="settingsModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Settings</h2>
                <button class="close-btn" id="closeSettings">&times;</button>
            </div>
            <div class="modal-body">
                <div class="setting-group">
                    <label for="soundVolume">Sound Volume:</label>
                    <input type="range" id="soundVolume" min="0" max="100" value="50">
                </div>
                <div class="setting-group">
                    <label for="particleEffects">Particle Effects:</label>
                    <input type="checkbox" id="particleEffects" checked>
                </div>
                <div class="setting-group">
                    <label for="gestureRecognition">Gesture Recognition:</label>
                    <input type="checkbox" id="gestureRecognition" checked>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script src="js/sound-system.js"></script>
    <script src="js/utils/gesture-helpers.js"></script>
    <script src="js/gesture-patterns.js"></script>
    <script src="js/gesture-analysis.js"></script>
    <script src="js/gesture-actions.js"></script>
    <script src="js/gesture-recognition.js"></script>
    <script src="js/spell-parser.js"></script>
    <script src="js/room-manager.js"></script>
    <script src="js/object-interaction.js"></script>
    <script src="js/particle-system.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
